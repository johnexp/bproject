<div flex layout="column" layout-fill ng-class="vm.showSelectionClass">
  <!--<ng-include src="'/modules/books/client/views/list-books.client.tmpl.html'"></ng-include>-->
  <div id="books-list">
    <div ng-cloak layout="row" layout-padding>
      <md-input-container class="no-error-field" flex>
        <label>Filtrar</label>
        <input ng-model="vm.bookSearchTerm">
      </md-input-container>
    </div>
    <div layout="row">
      <div flex>
        <md-subheader ng-cloak>Antigo Testamento</md-subheader>
        <md-list ng-cloak layout="row" class="md-dense" layout-wrap>
          <md-list-item ng-repeat="book in vm.bookList.at | filter: vm.bookSearchTerm" ng-click="vm.selectBook(book)" flex="50">
            {{book.name}}
          </md-list-item>
        </md-list>
      </div>
      <div flex>
        <md-subheader ng-cloak>Novo Testamento</md-subheader>
        <md-list ng-cloak layout="row" class="md-dense" layout-wrap>
          <md-list-item ng-repeat="book in vm.bookList.nt | filter: vm.bookSearchTerm" ng-click="vm.selectBook(book)" flex="50">
            {{book.name}}
          </md-list-item>
        </md-list>
      </div>
    </div>
  </div>
  <div id="chapters-list">
    <div layout="column">
      <md-subheader ng-cloak>{{vm.selectedBook.name}}</md-subheader>
      <div layout="row" layout-wrap>
        <div ng-repeat="chapter in vm.chaptersAmmount track by $index">
          <md-button class="md-primary" ng-click="vm.selectChapter($index + 1)">{{$index + 1}}</md-button>
        </div>
      </div>
    </div>
  </div>
  <div id="verses-number-list">
    <div layout="column">
      <md-subheader ng-cloak>{{vm.selectedBook.name}} > {{vm.chapter}}</md-subheader>
      <div layout="row" layout-wrap>
        <div ng-repeat="verse in vm.versesAmmount track by $index">
          <md-button class="md-primary" ng-click="vm.highlightVerse($index + 1)">{{$index + 1}}</md-button>
        </div>
      </div>
    </div>
  </div>

  <md-toolbar class="md-hue-3">
    <div class="md-toolbar-tools">
      <md-button ng-click="vm.prevChap()" class="md-fab md-mini md-accent" ng-disabled="vm.chapter == 1">
        <md-icon class="md-accent" md-font-set="material-icons">navigate_before</md-icon>
        <md-tooltip><span>Capítulo Anterior</span></md-tooltip>
      </md-button>
      <div flex></div>
      <md-button class="md-primary md-raised" ng-click="vm.toggleBooksList()">
        {{vm.isListOpen() ? 'Livro' : vm.book.book}}
        <md-tooltip><span>Selecionar Livro</span></md-tooltip>
      </md-button>
      <md-button class="md-primary md-raised" ng-click="vm.toggleChaptersList()">
        {{vm.isListOpen() ? 'Capítulo' : 'Cap: ' + vm.chapter}}
        <md-tooltip><span>Selecionar Capítulo</span></md-tooltip>
      </md-button>
      <md-button class="md-primary md-raised" ng-click="vm.toggleVersesList()">
        {{vm.isListOpen() ? 'Versículo' : (vm.highlightedVerse ? 'Ver: ' + vm.highlightedVerse : 'Ver')}}
        <md-tooltip><span>Selecionar Versículo</span></md-tooltip>
      </md-button>
      <div flex></div>
      <md-button ng-click="vm.nextChap()" class="md-fab md-mini md-accent" ng-disabled="vm.chapter == vm.book.numberOfChapters">
        <md-icon class="md-accent" md-font-set="material-icons">navigate_next</md-icon>
        <md-tooltip><span>Próximo Capítulo</span></md-tooltip>
      </md-button>
    </div>
  </md-toolbar>
  <div flex layout="row">
    <md-content flex id="verses-list">
      <md-list class="md-dense" flex>
        <md-list-item ng-repeat="verse in vm.book.chapters[0].verses track by $index" md-no-ink ng-click="vm.selectVerse($index + 1)" ng-class="vm.getVerseClass($index + 1)" id="verse-{{$index + 1}}">
          <div class="md-list-item-text" layout="column">
            <p class="verse">
              <sup>{{$index + 1}}</sup>
              {{verse}}
            </p>
          </div>
        </md-list-item>
      </md-list>
    </md-content>
  </div>
  <md-toolbar class="md-hue-3" id="verse-toolbar" ng-class="vm.selectedVerses.length > 0 ? 'show-verse-toolbar' : ''">
    <div class="md-toolbar-tools">
      <span>{{vm.selectedVerses.length}} versículos selecionados</span>
    </div>
  </md-toolbar>
</div>
